<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Fancy Template</title>
        <script src="../bower_components/jquery/dist/jquery.min.js"></script>
        <script src="../bower_components/angular/angular.js"></script>
        <script src="../bower_components/fancy/fancy.js"></script>
        <script src="../bower_components/fancy-lexer/fancylexer.js"></script>
        <script src="../fancytemplatev2.js"></script>

        <script>


            var scope = {
                user    : "Markus",
                date    : new Date(),
                num     : 10,
                getValue: function () {
                    return "This is my value";
                },
                log     : function ( msg ) {
                    console.log.apply( console, arguments );
                },
                push    : function ( e ) {
                    e.preventDefault();
                    scope.list.push( scope.list.length + 1 );
                },
                message : function ( str ) {
                    alert( str );
                },
                alert   : function ( msg ) {
                    alert( msg )
                },
                list    : [ 1 ],
                "var"   : "test"
            }, b;
            $( function () {
                b = new Fancy( "body" ).template( "", scope );
                b.config( [ "$compileProvider", "$parseProvider", function ( $compile, $parse ) {
                    $parse.debug( true );
                } ] );
                b.filter( "currency", [ function () {
                    return function ( value, symbol ) {
                        return value.toFixed( 2 ) + " " + symbol;
                    };
                } ] ).directive( "currentTime", [ "$interval", "$filter", function ( $interval, $filter ) {
                    console.log( $filter );
                    return {
                        scope: {
                            info: "="
                        },
                        link : function ( $scope ) {
                            $scope.time = new Date();
                            $interval( function () {
                                $scope.time = new Date();
                            }, 1000 );
                            console.log( $scope );

                            this.watch( "info", function ( v, o ) {
                                console.log( v, o )
                            } );
                        }
                    };
                } ] );

                b.bootstrap();
            } );


            (function () {
                "use strict";
                var fn = function ( s, l, a, i ) {
                    var v0, v1, v2, v3 = l && ('get' in l), v4, v5, v6, v7, v8, v9, v10, v11, v12, v13 = l && ('num' in l);
                    v2                 = v3 ? l : s;
                    if ( !(v3) ) {if ( s ) {v1 = s.get;}} else {v1 = l.get;}
                    if ( v1 != null ) {
                        v6 = v3 ? l : s;
                        if ( !(v3) ) {if ( s ) {v5 = s.get;}} else {v5 = l.get;}
                        if ( v5 != null ) {
                            v7 = 'test';
                            v8 = 12;
                            if ( !(v13) ) {if ( s ) {v12 = s.num;}} else {v12 = l.num;}
                            if ( v12 != null ) {v11 = v12.pad;} else {v11 = undefined;}
                            if ( v11 != null ) {
                                v10 = v12.pad();
                            } else {v10 = undefined;}
                            v9 =  v10+ 3;
                            v4 = v6.get( 'test', 12, v10 + 3 );
                        } else {v4 = undefined;}
                        v0 = v2.get( v4 );
                    } else {v0 = undefined;}
                    return v0;
                };
                return fn;
            })()

        </script>
    </head>
    <body>

        <!--<div ng-app="">{{ get(get("test", 12, num.pad() + 3)) }}</div>-->

        <!--<small>{{ "Hallo " + user }}</small>-->
        <!--<div>-->
        <!--<span>-->
        <!--<u>{{ "Test" }} {{ test }}</u>-->
        <!--</span>-->
        <!--</div>-->
        <!--<br>{{ date|date }}-->
        <br>{{ (date|date) + " soooos"}}
        <!--<br>{{ o.a }}-->
        <!--<br>{{ 3 - 1 }}-->
        <!--<br>{{ num + 10 }}-->
        <!--<br>{{ "testings" }}-->
        <!--<br>{{ true }}-->
        <!--<br>{{ num === 10 }}-->
        <!--<br>{{ var }}-->
        <br>{{ 121212|currency:"â‚¬" }}
        <br>{{ getValue("hallo") }}
        <br>{{ log(num, "hallo", getValue("hallo")) }}
        <br>{{ list.toString() }}
        <div id="test">
            <div id="test-child"></div>
        </div>
        <!--<current-time>

            {{ time|date }}

            <div fancy-click="$parent.alert('Huii')">Alert Huii</div>

        </current-time>

        <div fancy-click="log($event,list)">{{ "log" }}</div>

        <a href="#" fancy-click="push($event)">{{ 'Add index' }}</a>

        <div fancy-each="item in list track by $index"><b>{{ $index }}:</b> {{ item }}</div>

        <div fancy-each="(key,value) in list"><b>{{ key }}:</b> {{ value }}</div>

        <div id="list"></div>-->
    </body>

</html>
