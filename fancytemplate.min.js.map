{"version":3,"file":"fancytemplate.min.js","sources":["fancytemplate.js"],"names":["Fancy","SCOPE_NAME","EXTRA_NAME","ROOT_NAME","FancyEvalError","type","msg","Error","isKeyword","string","parse","it","i","lexer","before","after","keywordBefore","keywordAfter","keyword","value","isEqualsBefore","isEqualsAfter","equals","replaceAt","index","regex","character","substr","replace","FancyParse","$expression","appendix","_in","o","v","varCount","fnString","trim","isParamHeader","forEach","isParameter","key","firstPart","updateFn","replacement","length","fn","Function","FancyEval","eval","expression","scope","$","require","jQuery","id","NAME","VERSION","templateCache","SINGLETAGS","STRIPTAGS","NODETYPE","comment","text","logged","toDashCase","str","match","toLowerCase","toCamelCase","$1","$2","toUpperCase","$A","args","Array","prototype","slice","call","escapeRegExp","getExpression","l","r","L","R","RegExp","each","hasOwnProperty","FancyTemplate","$el","settings","SELF","this","element","extend","parsed","$filter","$directives","version","on","compile","directive","restrict","link","$scope","$attr","e","click","fancyClick","$event","api","name","update","leftDelimiter","rightDelimiter","expressions","node","nodeValue","nodeType","newNode","document","createTextNode","replaceWith","evaluated","filter","console","error","filters","split","splice","push","apply","undefined","nodes","elements","indexOf","find","$parent","prop","options","attr","attrs","attributes","template","getTextNodesIn","textNodes","nonWhitespaceMatcher","getTextNodes","test","childNodes","len","getCommentNodesIn","commentNodes","getCommentNodes","destroy","off","createComment","removeData","getType","d","list","item","bindClass","forbidTemplateTags","arguments","singleIndex","allowTemplateTags","loadTemplate","url","success","setTimeout","clone","ajax","global","html","then","not","set","el"],"mappings":"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"}