{"version":3,"file":"fancytemplate.min.js","sources":["fancytemplate.js"],"names":["$","Fancy","require","jQuery","id","NAME","VERSION","templateCache","SINGLETAGS","STRIPTAGS","NODETYPE","comment","text","logged","$A","args","Array","prototype","slice","call","escapeRegExp","str","replace","isKeyword","string","$eval","scope","expression","lexer","Lexer","forEach","it","i","parse","FancyTemplateError","Function","before","after","keywordBefore","keywordAfter","keyword","isEqualsBefore","isEqualsAfter","equals","getExpression","l","r","L","R","RegExp","type","msg","Error","FancyTemplate","$el","settings","SELF","this","element","extend","parsed","$filter","version","on","compile","api","name","update","leftDelimiter","rightDelimiter","expressions","match","$1","eval","node","nodeValue","nodeType","newNode","document","createTextNode","replaceWith","evaluated","value","filter","console","error","filters","split","splice","push","apply","e","getType","nodes","getTextNodesIn","textNodes","nonWhitespaceMatcher","getTextNodes","test","childNodes","len","length","getCommentNodesIn","commentNodes","getCommentNodes","indexOf","destroy","off","createComment","removeData","bindClass","forbidTemplateTags","arguments","index","singleIndex","allowTemplateTags","loadTemplate","url","success","setTimeout","clone","ajax","global","html","then","not","template","set","el"],"mappings":"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"}