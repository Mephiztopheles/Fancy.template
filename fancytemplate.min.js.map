{"version":3,"file":"fancytemplate.min.js","sources":["fancytemplate.js"],"names":["window","IDENTIFIER","NUMBER","COMMENT","WHITESPACE","INDENT","OPTABLE","+","-","*",".","\\",":","%","|","!","?","#","&",";",",","(",")","<",">","{","}","[","]","=","Lexer","expression","this","tokens","indent","chunk","undefined","tokenise","api","prototype","identifier","value","token","exec","push","length","number","string","firstChar","charAt","quoted","nextChar","i","substring","comment","whitespace","line","lastNewline","lastIndexOf","size","literal","tag","slice","source","diff","console","error","Math","max","$","Fancy","require","jQuery","id","NAME","VERSION","templateCache","FILTER","SINGLETAGS","STRIPTAGS","NODETYPE","text","logged","$A","args","Array","call","escapeRegExp","str","replace","isKeyword","$eval","scope","lexer","forEach","it","parse","FancyTemplateError","Function","before","after","keywordBefore","keywordAfter","keyword","isEqualsBefore","isEqualsAfter","equals","getExpression","l","r","L","R","RegExp","type","msg","Error","FancyTemplate","$el","settings","SELF","element","extend","parsed","version","on","compile","name","update","leftDelimiter","rightDelimiter","expressions","match","$1","eval","node","nodeValue","nodeType","newNode","document","createTextNode","replaceWith","evaluated","filter","split","getType","filters","splice","apply","e","nodes","getTextNodesIn","textNodes","nonWhitespaceMatcher","getTextNodes","test","childNodes","len","getCommentNodesIn","commentNodes","getCommentNodes","indexOf","destroy","off","createComment","removeData","bindClass","templateFilter","forbidTemplateTags","arguments","index","singleIndex","allowTemplateTags","loadTemplate","url","success","setTimeout","clone","ajax","global","html","then","not","template","set","el"],"mappings":"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"}