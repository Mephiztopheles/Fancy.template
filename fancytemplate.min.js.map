{"version":3,"file":"fancytemplate.min.js","sources":["fancytemplate.js"],"names":["$","Fancy","require","jQuery","id","NAME","VERSION","templateCache","FILTER","SINGLETAGS","STRIPTAGS","NODETYPE","comment","text","logged","$A","args","Array","prototype","slice","call","escapeRegExp","str","replace","$eval","scope","expression","mask","p","this","undefined","extend","Date","match","console","error","Function","getExpression","l","r","L","R","RegExp","FancyTemplate","$el","settings","SELF","element","parsed","version","on","compile","api","name","update","parse","leftDelimiter","rightDelimiter","forEach","it","i","expressions","node","nodeValue","$1","eval","nodeType","newNode","document","createTextNode","replaceWith","evaluated","filter","split","getType","value","filters","splice","push","apply","e","nodes","getTextNodesIn","textNodes","nonWhitespaceMatcher","getTextNodes","test","childNodes","len","length","getCommentNodesIn","commentNodes","getCommentNodes","indexOf","destroy","off","createComment","removeData","bindClass","templateFilter","forbidTemplateTags","arguments","index","singleIndex","allowTemplateTags","loadTemplate","url","success","setTimeout","clone","ajax","global","html","then","not","template","set","el"],"mappings":"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"}