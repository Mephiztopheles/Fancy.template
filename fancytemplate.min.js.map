{"version":3,"file":"fancytemplate.min.js","sources":["fancytemplate.js"],"names":["Fancy","$","FancyEvalError","type","msg","Error","isKeyword","string","parse","it","i","lexer","before","after","keywordBefore","keywordAfter","keyword","isEqualsBefore","isEqualsAfter","equals","createFunction","e","replaceAt","index","regex","character","substr","replace","FancyParse","$expression","appendix","match","forEach","length","Function","FancyEval","eval","expression","require","jQuery","id","NAME","VERSION","templateCache","SINGLETAGS","STRIPTAGS","NODETYPE","comment","text","logged","toDashCase","str","toLowerCase","$A","args","Array","prototype","slice","call","escapeRegExp","getExpression","l","r","L","R","RegExp","each","o","fn","hasOwnProperty","FancyTemplate","$el","settings","SELF","this","element","extend","parsed","$filter","$directives","version","on","compile","directive","restrict","scope","click","link","$scope","$event","api","name","update","leftDelimiter","rightDelimiter","expressions","$1","node","nodeValue","nodeType","newNode","document","createTextNode","replaceWith","evaluated","value","filter","console","error","filters","split","splice","push","apply","getType","nodes","elements","indexOf","find","$parent","prop","options","attr","template","getTextNodesIn","textNodes","nonWhitespaceMatcher","getTextNodes","test","childNodes","len","getCommentNodesIn","commentNodes","getCommentNodes","destroy","off","createComment","removeData","d","list","item","toUpperCase","bindClass","forbidTemplateTags","arguments","singleIndex","allowTemplateTags","loadTemplate","url","success","setTimeout","clone","ajax","global","html","then","not","set","el"],"mappings":"CAAA,SAAYA,MAAOC,GACf,QAASC,gBAAgBC,KAAMC,KAC3B,MAAO,IAAIC,OAAO,IAAMF,KAAO,MAAQC,KAG3C,QAASE,WAAWC,QAChB,OAASA,QACL,IAAK,MACL,IAAK,MACL,IAAK,QACL,IAAK,QACL,IAAK,KACL,IAAK,MACL,IAAK,OACL,IAAK,OACL,IAAK,OACL,IAAK,SACL,IAAK,SACL,IAAK,SACL,IAAK,OACL,IAAK,UACL,IAAK,SACL,IAAK,QACL,IAAK,QACL,IAAK,OACL,IAAK,WACL,IAAK,OACL,IAAK,UACL,IAAK,KACL,IAAK,UACL,IAAK,aACL,IAAK,MACL,IAAK,SACD,MAAO,KACX,SACI,MAAO,QAInB,QAASC,OAAOC,GAAIC,EAAGC,OACnB,GAAIC,QAASD,MAAOD,EAAI,GACpBG,MAASF,MAAOD,EAAI,EAExB,IAAII,eAAkBF,OAASA,OAAQ,KAAQ,MAAQ,MACnDG,aAAkBF,MAAQA,MAAO,KAAQ,gBAAkB,MAC3DG,QAAiBV,UAAWG,GAAI,MAAUK,eAAiBC,cAC3DE,eAAkBL,OAASA,OAAQ,KAAQ,SAAW,MACtDM,cAAkBL,MAAQA,MAAO,KAAQ,SAAW,MACpDM,OAAiBV,GAAI,KAAQ,UAAaS,gBAAkBD,eAAkB,KAClF,OAAOD,UAAWG,OAGtB,QAASC,gBAAgBC,GAOrB,MAAO,UAAYA,EAAI,qBAAuBA,EAAI,IAGtD,QAASC,WAAWf,OAAQgB,MAAOC,MAAOC,WACtC,MAAOlB,QAAOmB,OAAQ,EAAGH,OAAUhB,OAAOmB,OAAQH,OAAQI,QAASH,MAAOC,WAG9E,QAASG,YAAYC,YAAa1B,MAC9B,GAAIQ,OAAQ,GAAIX,OAAMW,MAAOkB,YAC7B,QAAS1B,MACL,IAAK,WACD,GAAI2B,UAAW,CACf,IAAKD,YAAYE,MAAO,gBAAmB,CACvCpB,MAAMqB,QAAS,SAAWvB,GAAIC,GAC1B,GAAKD,GAAI,KAAQ,eAAiBE,MAAOD,EAAI,GAAMC,MAAOD,EAAI,GAAK,KAAQ,MAAQ,MAAQ,CACvFmB,YAAcP,UAAWO,YAAaC,SAAUrB,GAAI,GAAK,SAAWA,GAAI,GACxEqB,WAAY,EAAIrB,GAAI,GAAIwB,cAG7B,CACHtB,MAAMqB,QAAS,SAAWvB,GAAIC,GAC1B,GAAKD,GAAI,KAAQ,eAAiBE,MAAOD,EAAI,GAAMC,MAAOD,EAAI,GAAK,KAAQ,MAAQ,MAAQ,CACvFmB,YAAcP,UAAWO,YAAaC,SAAUrB,GAAI,GAAKW,eAAgBX,GAAI,IAC7EqB,WAAY,GAAMrB,GAAI,GAAIwB,OAAS,KAI/C,KACJ,SACI,GAAKJ,YAAYE,MAAO,gBAAmB,CACvC,KAAM,IAAI7B,gBAAgB,OAAQ,qDAAuD2B,iBACtF,CACHlB,MAAMqB,QAAS,SAAWvB,GAAIC,GAC1B,GAAKF,MAAOC,GAAIC,EAAGC,OAAU,CACzB,KAAM,IAAIT,gBAAgB,OAAQ,wBAA0BO,GAAI,GAAM,+BAAiCoB,aAE3G,GAAKpB,GAAI,KAAQ,eAAiBE,MAAOD,EAAI,GAAMC,MAAOD,EAAI,GAAK,KAAQ,MAAQ,MAAQ,CACvFmB,YAAcA,YAAYF,QAASlB,GAAI,GAAKW,eAAgBX,GAAI,QAI5E,MAER,MAAO,IAAKyB,UAAU,QAAS,gBAAkBL,YAAc,wCAInE,QAASM,WAAWN,aAChB,MAAOD,YAAYC,YAAa,UAGpC7B,MAAMoC,KAAQ,SAAWC,YACrB,MAAO,IAAIF,WAAWE,YAE1BrC,OAAMQ,MAAQ,SAAW6B,YACrB,MAAO,IAAIT,YAAYS,WAAY,eAEvCrC,MAAOC,IAEX,SAAYA,GACRD,MAAMsC,SACFC,OAAQ,MACRvC,MAAQ,SAEZ,IAAIwC,IAAgB,EAChBC,KAAgB,gBAChBC,QAAgB,QAChBC,iBACAC,YAAkB,KAAM,OAAQ,MAAO,OAAQ,QAAS,QAAS,SAAU,SAC3EC,WAAkB,IAAK,IAAK,KAC5BC,UACIC,QAAS,EACTC,KAAS,GAEbC,OAAgB,KAEpB,SAASC,YAAYC,KACjB,MAAOA,KAAIxB,QAAS,cAAe,SAAWI,OAC1C,MAAO,IAAMA,MAAMqB,gBAI3B,QAASC,IAAIC,MACT,MAAOC,OAAMC,UAAUC,MAAMC,KAAMJ,MAGvC,QAASK,cAAcR,KACnB,MAAOA,KAAIxB,QAAS,sCAAuC,QAI/D,QAASiC,eAAeC,EAAGC,GACvB,GAAIC,GAAIJ,aAAcE,GAClBG,EAAIL,aAAcG,EACtB,OAAO,IAAIG,QAAQ,MAAQF,EAAI,OAASA,EAAIC,EAAI,SAAWA,EAAI,IAAK,KAGxE,QAASE,MAAMC,EAAGC,IACd,IAAM,GAAI1D,KAAKyD,GAAI,CACf,GAAKA,EAAEE,eAAgB3D,GAAM,CACzB,GAAK0D,GAAGV,KAAMS,EAAGzD,GAAKA,EAAGyD,EAAGzD,MAAU,MAAQ,CAC1C,SAMhB,QAAS4D,eAAeC,IAAKC,UACzB,GAAIC,MAAeC,IACnBA,MAAKC,QAAcJ,GACnBG,MAAKF,SAAcvE,EAAE2E,UAAY5E,MAAMwE,SAAW/B,MAAQ+B,SAC1DE,MAAKlC,GAAcA,IACnBkC,MAAKG,SACLH,MAAKI,UACLJ,MAAKK,cACL,KAAM9B,OAAS,CACXA,OAAS,IACTjD,OAAMgF,QAASN,MAEnBA,KAAKC,QAAQM,GAAI,mBAAqBxC,KAAM,WACxCgC,KAAKS,WAETR,MAAKS,UAAW,aAAc,WAC1B,OACIC,SAAU,IACVC,OAAYC,MAAS,eACrBC,KAAU,SAAWC,OAAQjB,KACzBA,IAAIU,GAAI,QAAS,SAAW5D,GACxBmE,OAAOF,OAASG,OAAQpE,SAKxC,OAAOqD,MAGXJ,cAAcoB,IAAMpB,cAAcd,YAClCc,eAAcoB,IAAIV,QAAYtC,OAC9B4B,eAAcoB,IAAIC,KAAYlD,IAC9B6B,eAAcoB,IAAIE,OAAY,SAAWP,OACrC,GAAIZ,MAAOC,IACX,IAAKW,MAAQ,CACTZ,KAAKD,SAASa,MAAQA,MAE1BX,KAAKlE,OACL,OAAOkE,MAEXJ,eAAcoB,IAAIlF,MAAY,WAC1B,GAAIiE,MAAOC,KACPb,EAAOa,KAAKF,SAASqB,cACrB/B,EAAOY,KAAKF,SAASsB,cACzBpB,MAAKG,OAAO7C,QAAS,SAAWvB,IAC5B,GAAIsF,aAAcnC,cAAeC,EAAGC,EACpCrD,IAAGoE,OAAepE,GAAG4B,WAAWV,QAASoE,YAAa,SAAWhE,MAAOiE,IACpE,MAAOvB,MAAKrC,KAAM4D,OAG1BtB,MAAKG,OAAO7C,QAAS,SAAWvB,GAAIC,GAChCD,GAAGwF,KAAKC,UAAYzF,GAAGoE,MACvB,IAAKpE,GAAG0F,WAAarD,SAASC,SAAWtC,GAAGwF,KAAKE,WAAa1F,GAAG0F,SAAW,CACxE,GAAIC,SAAoBnG,EAAGoG,SAASC,eAAgB7F,GAAGoE,QACvD5E,GAAGQ,GAAGwF,MAAOM,YAAaH,QAC1B3B,MAAKI,OAAQnE,GAAIuF,KAAOG,QAAS,KAGzC,OAAO1B,MAEXJ,eAAcoB,IAAItD,KAAO,SAAWC,YAChC,GAAImE,WAAY,KACZ/B,KAAYC,IAEhB,IAAKrC,WAAWN,MAAO,GAAIkC,QAAQ,kBAAsB,CACrDuC,UAAY,SAAYnB,MAAOM,KAAMc,MAAOC,QACxC,IAAMjC,KAAKK,QAASa,MAAS,CACzBgB,QAAQC,MAAO,sBAAwBjB,MAAQ,cAC/C,OAAOc,OAEX,GAAInD,OAAYmD,MAChB,IAAII,SAAUH,OAAO/E,QAASgE,KAAM,IAAKmB,MAAO,IAChDD,SAAQE,OAAQ,EAAG,EACnB,KACIF,QAAQ7E,QAAS,SAAWvB,IACxB6C,KAAK0D,KAAMhH,MAAMoC,KAAM3B,IAAM4E,SAEjC,OAAOZ,MAAKK,QAASa,MAAOsB,MAAOvC,KAAMpB,MAC3C,MAAQjC,GACN,MAAOoF,SAEXhC,KAAKD,SAASa,MAAOhD,WAAWN,MAAO,WAAa,GAAK/B,MAAMoC,KAAMC,WAAWyE,MAAO,KAAO,IAAOrC,KAAKD,SAASa,OAAShD,WAAWyE,MAAO,KAAO,QACtJ,CACHN,UAAYxG,MAAMoC,KAAMC,YAAcoC,KAAKD,SAASa,OAExD,GAAKrF,MAAMkH,QAASV,aAAgB,QAAUxG,MAAMkH,QAASV,aAAgB,YAAc,CACvF,MAAO,GAEX,MAAOA,WAEXlC,eAAcoB,IAAIR,QAAY,WAC1B,GAAIT,MAAOC,KACPyC,KACJ1C,MAAKM,YAAY/C,QAAS,SAAWmD,WACjCA,UAAUiC,SAAWjC,UAAUiC,YAC/B,KAAMjC,UAAUC,SAASiC,QAAS,KAAQ,CACtC,GAAID,UAAW3C,KAAKE,QAAQ2C,KAAM,IAAMnC,UAAUQ,KAAO,IACzDyB,UAASlD,KAAM,SAAW3C,MAAOgD,KAC7B,IAAMtE,EAAGkF,UAAUiC,UAAW7F,MAAOgD,KAAQ,CACzC,OAEJY,UAAUiC,SAASJ,KAAMzC,IACzB,IAAIc,OAAQZ,KAAKD,SAASa,KAC1B,IAAKF,UAAUE,MAAQ,CACnBA,OACIkC,QAAS9C,KAAKD,SAASa,MAE3BA,OAAM7B,UAAYiB,KAAKD,SAASa,KAChCnB,MAAMiB,UAAUE,MAAO,SAAWmC,KAAMrD,GACpC,OAASO,KAAM,IACX,IAAK,IACDW,MAAOmC,MAAS,SAAWC,SACvB,GAAIC,MAAOzH,EAAGsE,KAAMmD,KAAMvD,EAAElC,OAAS,EAAIiB,WAAYiB,EAAEzC,OAAQ,IAAQ8F,KACvE,IAAIpD,IAAOpE,MAAMQ,MAAOkH,KAAM,KAC9BtD,IAAInE,EAAE2E,UAAYS,MAAOoC,SACzBhD,MAAKmB,SAET,UAIhB,GAAI+B,UAAW3H,MAAO0E,MAAOiD,UAAYtC,MAAOA,OAChDF,WAAUI,KAAMF,MAAOpF,EAAGyE,WAItC,SAASkD,gBAAgB3B,MACrB,GAAI4B,cAAgBC,qBAAuB,IAE3C,SAASC,cAAc9B,MACnB,GAAKA,KAAKE,UAAYrD,SAASE,KAAO,CAClC,GAAK8E,qBAAqBE,KAAM/B,KAAKC,WAAc,CAC/C2B,UAAUb,KAAMf,WAEjB,IAAKA,KAAKgC,WAAa,CAC1B,IAAM,GAAIvH,GAAI,EAAGwH,IAAMjC,KAAKgC,WAAWhG,OAAQvB,EAAIwH,MAAOxH,EAAI,CAC1DqH,aAAc9B,KAAKgC,WAAYvH,MAM3CqH,aAAc9B,KACd,OAAO4B,WAGX,QAASM,mBAAmBlC,MACxB,GAAImC,iBAAmBN,qBAAuB,IAE9C,SAASO,iBAAiBpC,MACtB,GAAKA,KAAKE,WAAarD,SAASC,QAAU,CACtC,GAAK+E,qBAAqBE,KAAM/B,KAAKC,WAAc,CAC/CkC,aAAapB,KAAMf,WAEpB,IAAKA,KAAKgC,WAAa,CAC1B,IAAM,GAAIvH,GAAI,EAAGwH,IAAMjC,KAAKgC,WAAWhG,OAAQvB,EAAIwH,MAAOxH,EAAI,CAC1D2H,gBAAiBpC,KAAKgC,WAAYvH,MAK9C2H,gBAAiBpC,KACjB,OAAOmC,cAGX,IAAM3D,KAAKD,SAASqB,cAAcwB,QAAS,MAAS,CAChDF,MAA+BgB,kBAAmBzD,KAAKC,QAAS,GAChEF,MAAKD,SAASqB,cAAiB,MAC/BpB,MAAKD,SAASsB,eAAiB,GAC/BqB,OAAMnF,QAAS,SAAWvB,IACtB,GAAIyF,WAAY,OAASzF,GAAGyF,UAAY,GACxC,IAAKA,UAAUnE,MAAO6B,cAAea,KAAKD,SAASqB,cAAepB,KAAKD,SAASsB,iBAAqB,CACjGrB,KAAKI,OAAOmC,MAAQ3E,WAAY6D,UAAWD,KAAMxF,GAAI0F,SAAU1F,GAAG0F,kBAGvE,CACHgB,MAAQS,eAAgBlD,KAAKC,QAAS,GACtCwC,OAAMnF,QAAS,SAAWvB,IACtB,GAAKA,GAAGyF,UAAUnE,MAAO6B,cAAea,KAAKD,SAASqB,cAAepB,KAAKD,SAASsB,iBAAqB,CACpGrB,KAAKI,OAAOmC,MAAQ3E,WAAY5B,GAAGyF,UAAWD,KAAMxF,GAAI0F,SAAU1F,GAAG0F,cAKjF,MAAOzB,MAAKlE,QAEhB8D,eAAcoB,IAAI4C,QAAY,WAC1B5D,KAAKC,QAAQ4D,IAAK,mBAAqB9F,KACvCiC,MAAKG,OAAO7C,QAAS,SAAWvB,IAC5B,GAAKA,GAAG0F,WAAarD,SAASC,QAAU,CACpC,GAAIqD,SAAUnG,EAAGoG,SAASmC,cAAe/H,GAAG4B,WAAWV,QAAS,OAAQ,IAAKA,QAAS,IAAK,KAC3F1B,GAAGQ,GAAGwF,MAAOM,YAAaH,aACvB,CACH3F,GAAGwF,KAAKC,UAAYzF,GAAG4B,aAG/BqC,MAAKC,QAAQ8D,WAAYhG,KACzB,OAAO,MAEX6B,eAAcoB,IAAIgB,OAAY,SAAWf,KAAMe,QAC3C,GAAK1G,MAAMkH,QAASR,UAAa,WAAa,CAC1ChC,KAAKI,QAASa,MAASe,WACpB,CACHC,QAAQC,MAAO,mBAAqBjB,MAAQ,YAAc,uBAGlErB,eAAcoB,IAAIP,UAAY,SAAWQ,KAAMR,WAC3C,GAAIuD,GAAKvD,UAAUzB,KAAMgB,KACzBgE,GAAE/C,KAAOzC,WAAYyC,KACrB,IAAK3F,MAAMkH,QAASwB,EAAEtD,YAAe,SAAW,CAC5CsD,EAAEtD,SAAW,SAAYuD,MACrB,GAAI9E,KACJ8E,MAAK3G,QAAS,SAAW4G,MACrB,KAAO/E,EAAEwD,QAASuB,KAAKC,eAAkB,CACrChF,EAAEmD,KAAM4B,KAAKC,iBAGrB,OAAOhF,IACP6E,EAAEtD,SAAS0B,MAAO,SACnB,CACH4B,EAAEtD,UAAa,KAEnBV,KAAKK,YAAYiC,KAAM0B,GAG3B1I,OAAMwE,SAAW/B,OACb4C,SACAQ,cAAgB,KAChBC,eAAgB,KAChBgD,UAAgBrG,KAAO,YAG3BzC,OAAM+I,mBAAqB,WACvB1F,GAAI2F,WAAYhH,QAAS,SAAWvB,IAChC,GAAIc,OAAcsB,UAAUwE,QAAS5G,IACjCwI,YAAcrG,WAAWyE,QAAS5G,GACtC,IAAKc,SAAW,GAAK0H,eAAiB,EAAI,CACtCpG,UAAUmE,KAAMvG,QACb,IAAKwI,eAAiB,EAAI,CAC7BtC,QAAQC,MAAO,0CAI3B5G,OAAMkJ,kBAAqB,WACvB7F,GAAI2F,WAAYhH,QAAS,SAAWvB,IAChC,GAAIc,OAAcsB,UAAUwE,QAAS5G,IACjCwI,YAAcrG,WAAWyE,QAAS5G,GACtC,IAAKc,SAAW,GAAK0H,eAAiB,EAAI,CACtCpG,UAAUkE,OAAQxF,MAAO,OACtB,IAAK0H,eAAiB,EAAI,CAC7BtC,QAAQC,MAAO,kCAI3B5G,OAAMmJ,aAAqB,SAAWC,KAClC,GAAIC,SAAU,aACVzC,MAAU,YACd,IAAKjE,cAAeyG,KAAQ,CACxBE,WAAY,WACRD,QAAS1G,cAAeyG,KAAMG,UAC/B,OACA,CACHtJ,EAAEuJ,MACEJ,IAASA,IACTK,OAAS,MACTJ,QAAS,SAAWK,MAChB,GAAKA,KAAKrC,QAAS,OAAU,EAAI,CAC7BqC,KAAuB,SAAWA,KAAO,SACzC/G,eAAeyG,KAAQnJ,EAAGA,EAAGyJ,WAC1B,CACH/G,cAAeyG,KAAQnJ,EAAGyJ,MAE9BL,QAAS1G,cAAeyG,KAAMG,UAElC3C,MAAS,WACLA,MAAMlD,KAAMgB,KAAMsE,cAK9B,MAAO,UAAWW,KAAMC,KACpBP,QAAUM,IACV/C,OAAUgD,KAGlB5J,OAAM2H,SAAqBjF,OAC3B1C,OAAM0F,IAAIiC,SAAiB,SAAWnD,UAClC,MAAOE,MAAKmF,IAAKpH,KAAM,SAAWqH,IAC9B,MAAO,IAAIxF,eAAewF,GAAItF,WAC/B,SAGPjC"}