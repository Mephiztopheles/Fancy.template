<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Fancy Template</title>
        <script src="../bower_components/jquery/dist/jquery.min.js"></script>
        <script src="../bower_components/fancy/fancy.min.js"></script>
        <script src="../bower_components/fancy-lexer/fancylexer.min.js"></script>
        <script src="../fancytemplate.js"></script>

        <script>
            var scope = {
                user    : "Markus",
                date    : new Date(),
                num     : 10,
                getValue: function () {
                    return "This is my value";
                },
                log     : function ( msg ) {
                    console.log( msg );
                },
                message : "Log",
                "var"   : "test"
            };
            var filter = {
                "date"    : function ( value ) {
                    return value.toLocaleString();
                },
                "currency": function ( value, symbol ) {
                    return value.toFixed( 2 ) + " " + symbol;
                }
            };
            Fancy.allowTemplateTags( "u" );
            $( function () {
                var t = new Fancy( "#test" ).template( { leftDelimiter: "<!", rightDelimiter: ">" } ),
                    b = new Fancy( "body" ).template( { scope: scope } );
                for ( var i in filter ) {
                    if ( filter.hasOwnProperty( i ) ) {
                        b.filter( i, filter[ i ] );
                    }
                }

                t.compile();
                b.compile();

                setTimeout( function () {
                    scope.test = "Hallo User";
                    b.update();
                }, 3000 );
            } );
        </script>
    </head>
    <body>
        <small>{{ "Hallo " + user }}</small>
        <div>
            <span>
                <u>{{ "Test" }} {{ test }}</u>
            </span>
        </div>
        <br>{{ date|date }}
        <br>{{ o.a }}
        <br>{{ 3 - 1 }}
        <br>{{ num + 10 }}
        <br>{{ "testings" }}
        <br>{{ true }}
        <br>{{ num === 10 }}
        <br>{{ var }}
        <br>{{ 121212|currency:"â‚¬" }}
        <br>{{ getValue() }}
        <br>{{ list }}

        <div fancy-click="log(date)">{{ message }}</div>

        <div id="test">
            <!-- 'hallo' -->
        </div>

        <div id="list"></div>
    </body>

</html>
